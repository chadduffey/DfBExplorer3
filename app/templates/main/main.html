{% extends "base.html" %}

{% block title %}DfB Explorer - Overview{% endblock %}

{% block content %}

<!--Load the AJAX API-->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

// Load the Visualization API and the piechart package.
google.load('visualization', '1.0', {'packages':['corechart']});

// Set a callback to run when the Google Visualization API is loaded.
google.setOnLoadCallback(drawChart);
google.setOnLoadCallback(drawChart1);

// Callback that creates and populates a data table,
// instantiates the pie chart, passes in the data and
// draws it.
function drawChart() {

    // Create the data table.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Licence');
    data.addColumn('number', 'Sample');
    data.addRows([
      ['Licences in use', {{ licencesInUse }} ],
      ['Licences Available', {{ remainingLicences }} ]
    ]);

    // Set chart options
    var options = {'title':'Dropbox for Business Licences',
                   'width':400,
                   'height':300};

    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
    chart.draw(data, options);
}
function drawChart1() {

    // Create the data table.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Licence');
    data.addColumn('number', 'Sample');
    data.addRows([
      ['iOS', 3],
      ['Android', 4],
      ['Windows Mobile', 2],
      ['Blackberry', 1]
    ]);

    // Set chart options
    var options = {'title':'Devices',
                   'width':400,
                   'height':300};

    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div1'));
    chart.draw(data, options);
}
</script>

<div class="container-fluid">	
  		<div class="row">
    		<div class="col-sm-2 sidebar">
      			<ul class="nav nav-sidebar">
		            <li class="active"><a href="{{ url_for('main.index') }}">Team Overview <span class="sr-only">(current)</span></a></li>
		            <li><a href="{{ url_for('main.sharing_activity') }}">Sharing Activity</a></li>
		            <li><a href="{{ url_for('main.team_storage') }}">Team Storage</a></li>
		            <li><a href="{{ url_for('main.group_membership') }}">Group Membership</a></li>
		            <li><a href="{{ url_for('main.team_management') }}">Team Management</a></li>
		            <li><a href="{{ url_for('main.devices') }}">Devices</a></li>
		            <li><a href="{{ url_for('main.team_audit') }}">Team Audit</a></li>
	         	</ul>
	     	</div>
	     	<div class="col-md-8">
	     		<h1 class="page-header">Team Overview</h1>
	     		<div class="row placeholders">

            		<div class="col-xs-6 col-sm-6 placeholder">
              			<h4>Dropbox Licence Usage</h4>
              			<span class="text-muted">Team: {{ dbTeamName }}</span>
              			<div id="chart_div"></div>
            		</div>

            		<div class="col-xs-6 col-sm-6 placeholder" style="margin-bottom: 40px;">
		              	<h4>Devices</h4>
		              	<span class="text-muted">Placeholder Graph</span>
		              	<div id="chart_div1"></div>
            		</div>


					<h2 class="sub-header" style="margin-top: 40px;">Team Members</h2>
					          <div class="table-responsive">
					            <table class="table table-striped">
					              <thead>
					                <tr>
					                  <th>#</th>
					                  <th>User Name</th>
					                  <th>User Email</th>
					                  <th>Links created</th>
					                  <th>Total Storage</th>
					                </tr>
					              </thead>
					              <tbody>
					                <tr>
					                  <td>1,001</td>
					                  <td>Lorem</td>
					                  <td>ipsum</td>
					                  <td>dolor</td>
					                  <td>sit</td>
					                </tr>
					                <tr>
					                  <td>1,008</td>
					                  <td>Fusce</td>
					                  <td>nec</td>
					                  <td>tellus</td>
					                  <td>sed</td>
					                </tr>
					                <tr>
					                  <td>1,009</td>
					                  <td>augue</td>
					                  <td>semper</td>
					                  <td>porta</td>
					                  <td>Mauris</td>
					                </tr>
					                  <td>1,015</td>
					                  <td>sodales</td>
					                  <td>ligula</td>
					                  <td>in</td>
					                  <td>libero</td>
					                </tr>
					              </tbody>
					            </table>


	     		</div>
	     	</div>
	    </div>	
	</div>


<div class="container">
	<div class="page-header">
		
		<p>Email: {{ user.email }}</p>
		<p>DfB Token: {{ user.dfbpassword }}</p>
		<br>
		<p><h4>Dropbox API data</h4></p>
		<p>Dropbox Team Name: {{ dbTeamName }}</p>
		<p>Dropbox Team Id: {{ teamId }}</p>
		<p>Total Business Licences: {{ totalLicences }}</p>
		<p>Licences in Use: {{ licencesInUse }}</p>
		<p>Remaining Licences: {{ remainingLicences }}</p>
		<p>We are in the main section of the app.</p>
		<br>
		<p><h4>Test using the Google Chart Library</h4></p>
		<p>Using Dropbox API data</p>

	    

	    <!--Div that will hold the pie chart-->
    	<div id="chart_div"></div>


	</div>
</div>
{% endblock %}